webpackJsonp([48],{"+OK3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),s=i.n(a),r=i("NYxO"),n={components:{VueQr:i("X2mQ").a},data:function(){return{loading:!1,bitcv:{},orderData:{projData:{}},form:{confirm:""},confirmError:"",isFinish:!1,isChecked:!0,list:[],qrTxt:"",txRecordIdList:[]}},created:function(){this.orderId=this.$route.query.orderId,this.bitcv=this.$route.query,this.fetch(),this.orderId&&(this.fetchList(!1),this.isFinish=!0)},computed:{language:function(){return this.$i18n.locale}},methods:s()({},Object(r.b)(["getOrderDetail","getOrderTxRecordList","confirmDepositTx"]),{fetch:function(){var t=this;this.loading=!0,this.getOrderDetail({depositOrderId:this.orderId||this.bitcv.id}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.loading=!1,t.orderData=e,t.qrTxt=t.orderData.toAddr}).catch(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.loading=!1})},fetchList:function(){var t=this;this.loading=!0,this.getOrderTxRecordList({depositOrderId:this.orderId||this.bitcv.id}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.list=e.dataList,t.list.length&&t.list.map(function(t){t.checked=!1}),t.isFinish=!0,t.loading=!1}).catch(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.loading=!1})},handleChange:function(){var t=this;this.isChecked=!0,this.list.map(function(e){e.checked&&(t.isChecked=!1)})},handleSubmit:function(){this.confirmError="",this.form.confirm?this.fetchList():this.confirmError="has-error"},handleFinish:function(){var t=this;this.loading=!0,this.list.map(function(e){e.checked&&t.txRecordIdList.push(e.id)}),this.confirmDepositTx({depositOrderId:this.orderData.id,txRecordIdList:this.txRecordIdList}).then(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.$router.push({path:"/candyRoom/candyMyData",query:t.bitcv}),t.loading=!1}).catch(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.loading=!1})}})},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container buying-details"},[i("div",{staticClass:"bitcv"},["cn"===t.language?i("h4",[t._v(t._s(t.isFinish?"确认订单":"订单详情"))]):i("h4",[t._v(t._s(t.isFinish?"Confirm Order":"Order Detail"))]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-9"},[i("div",[i("img",{attrs:{src:t.orderData.projData.logoUrl,alt:t.orderData.tokenSymbol,height:"60"}}),t._v(" "),i("b",{staticStyle:{color:"#333"}},[t._v(t._s(t.orderData.projData.tokenSymbol))]),t._v(" "),i("span",[t._v(t._s(t.orderData.projData.tokenName))])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-3"},[i("span",[t._v(t._s(t.$t("label.in_amount"))+"：")]),i("b",[t._v(t._s(t.orderData.orderAmount))]),i("i",[t._v(" "+t._s(t.$t("label.coin_amount")))])]),t._v(" "),i("div",{staticClass:"col-md-3"},[i("span",[t._v(t._s(t.$t("label.lock"))+"：")]),i("b",[t._v(t._s(t.orderData.lockTime))]),i("i",[t._v(" "+t._s(t.$t("label.month")))])]),t._v(" "),i("div",{staticClass:"col-md-3"},[i("span",[t._v(t._s(t.$t("label.return"))+"：")]),i("b",[t._v(" "+t._s(t.getInterest(t.orderData.orderAmount,t.orderData.interestRate,t.orderData.lockTime)))]),i("i",[t._v(" "+t._s(t.$t("label.coin_amount")))])])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$t("label.re_address"))+"：")]),t._v(" "),i("b",{staticClass:"bitcv-b"},[t._v(t._s(t.orderData.toAddr))])]),t._v(" "),i("div",[i("span",[t._v(t._s(t.$t("label.your_address"))+"：")]),t._v(" "),i("b",{staticClass:"bitcv-b"},[t._v(t._s(t.orderData.fromAddr))])])]),t._v(" "),i("div",{staticClass:"col-md-3",staticStyle:{"text-align":"center","padding-top":"30px"}},[i("vue-qr",{staticClass:"qrcode",attrs:{text:t.qrTxt,height:"160",width:"160",margin:10}})],1)])]),t._v(" "),i("div",{staticClass:"content"},[t.isFinish?i("div",{staticClass:"details-list"},[i("p",{staticClass:"details-tip"},[i("span",{staticClass:"update-btn",on:{click:t.fetch}},[t._v(t._s(t.$t("label.refresh_data")))]),t._v("\n        "+t._s(t.$t("label.sys_notice"))+"\n      ")]),t._v(" "),i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table table-hover"},[i("thead",[i("tr",{staticClass:"text-dark"},[i("th",[t._v(t._s(t.$t("label.jiaoyi")))]),t._v(" "),i("th",[t._v(t._s(t.$t("label.r_time")))]),t._v(" "),i("th",[t._v(t._s(t.$t("label.hash")))]),t._v(" "),i("th",[t._v(t._s(t.$t("label.operation")))])])]),t._v(" "),t.list.length?i("tbody",t._l(t.list,function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.txAmount))]),t._v(" "),i("td",[t._v(t._s(e.txTime))]),t._v(" "),i("td",[i("a",{attrs:{href:"https://etherscan.io/tx/"+e.txHash,target:"_blank"}},[t._v(t._s(t.getShortStr(e.txHash,12)))])]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(i){var a=e.checked,s=i.target,r=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(e.checked=a.concat([null])):n>-1&&(e.checked=a.slice(0,n).concat(a.slice(n+1)))}else t.$set(e,"checked",r)},t.handleChange]}})])])})):i("div",{staticClass:"nodata"},[t._v("\n              "+t._s(t.$t("label.no_t"))),i("span",{staticClass:"update-btn",on:{click:t.fetch}},[t._v(" "+t._s(t.$t("label.refresh_data")))]),t._v(" "+t._s(t.$t("label.retry"))+"！\n          ")])])]),t._v(" "),i("div",{staticClass:"buying-details-form-submit"},[t.list.length?i("button",{staticClass:"btn btn-warning",attrs:{disabled:t.isChecked},on:{click:t.handleFinish}},[t._v(t._s(t.$t("label.co_co")))]):t._e()])]):i("div",{staticClass:"buying-details-form"},[i("div",{staticClass:"form-group",class:t.confirmError},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirm,expression:"form.confirm"}],attrs:{type:"checkbox",id:"confirm"},domProps:{checked:Array.isArray(t.form.confirm)?t._i(t.form.confirm,null)>-1:t.form.confirm},on:{change:function(e){var i=t.form.confirm,a=e.target,s=!!a.checked;if(Array.isArray(i)){var r=t._i(i,null);a.checked?r<0&&(t.form.confirm=i.concat([null])):r>-1&&(t.form.confirm=i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.form,"confirm",s)}}}),t._v(" "),i("label",{attrs:{for:"confirm"}},[t._v(t._s(t.$t("label.my_goal"))+t._s(t.orderData.orderAmount)+" "+t._s(t.$t("label.coin_amount")))]),i("br"),t._v(" "),t.confirmError?i("span",[t._v(t._s(t.$t("label.confirm_recharge")))]):t._e()]),t._v(" "),i("div",{staticClass:"col-md-10 buying-details-form-submit"},[i("button",{staticClass:"btn btn-warning",on:{click:t.handleSubmit}},[t._v(t._s(t.$t("label.start_co")))])])])])])},staticRenderFns:[]};var c=i("VU/8")(n,o,!1,function(t){i("6KP9")},null,null);e.default=c.exports},"6KP9":function(t,e){}});
//# sourceMappingURL=48.79e22b2ee99e81f97457.js.map