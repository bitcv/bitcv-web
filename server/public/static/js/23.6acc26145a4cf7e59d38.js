webpackJsonp([23],{"+OK3":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("Dd8w"),s=e.n(a),r=e("NYxO"),n={components:{VueQr:e("X2mQ").a},data:function(){return{loading:!1,bitcv:{},orderData:{projData:{}},form:{confirm:""},confirmError:"",isFinish:!1,isChecked:!0,list:[],qrTxt:"",txRecordIdList:[]}},created:function(){this.orderId=this.$route.query.orderId,this.bitcv=this.$route.query,this.fetch(),this.orderId&&(this.fetchList(!1),this.isFinish=!0)},computed:{language:function(){return this.$i18n.locale}},methods:s()({},Object(r.b)(["getOrderDetail","getOrderTxRecordList","confirmDepositTx"]),{fetch:function(){var t=this;this.loading=!0,this.getOrderDetail({depositOrderId:this.orderId||this.bitcv.id}).then(function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.loading=!1,t.orderData=i,t.qrTxt=t.orderData.toAddr}).catch(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.loading=!1})},fetchList:function(){var t=this;this.loading=!0,this.getOrderTxRecordList({depositOrderId:this.orderId||this.bitcv.id}).then(function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.list=i.dataList,t.list.length&&t.list.map(function(t){t.checked=!1}),t.isFinish=!0,t.loading=!1}).catch(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.loading=!1})},handleChange:function(){var t=this;this.isChecked=!0,this.list.map(function(i){i.checked&&(t.isChecked=!1)})},handleSubmit:function(){this.confirmError="",this.form.confirm?this.fetchList():this.confirmError="has-error"},handleFinish:function(){var t=this;this.loading=!0;var i=[];this.list.map(function(t){t.checked&&i.push(t.id)}),this.txRecordIdList=i,this.confirmDepositTx({depositOrderId:this.orderData.id,txRecordIdList:this.txRecordIdList}).then(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.$router.push({path:"/candyRoom/candyMyData",query:t.bitcv}),t.loading=!1}).catch(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.loading=!1})}})},o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container buying-details"},[e("div",{staticClass:"bitcv"},["cn"===t.language?e("h4",[t._v(t._s(t.isFinish?"确认订单":"订单详情"))]):e("h4",[t._v(t._s(t.isFinish?"Confirm Order":"Order Detail"))]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("div",[e("img",{attrs:{src:t.orderData.projData.logoUrl,alt:t.orderData.tokenSymbol,height:"60"}}),t._v(" "),e("b",{staticStyle:{color:"#333"}},[t._v(t._s(t.orderData.projData.tokenSymbol))]),t._v(" "),e("span",[t._v(t._s(t.orderData.projData.tokenName))])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("span",[t._v(t._s(t.$t("label.in_amount"))+"：")]),e("b",[t._v(t._s(t.orderData.orderAmount))]),e("i",[t._v(" "+t._s(t.$t("label.coin_amount")))])]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("span",[t._v(t._s(t.$t("label.lock"))+"：")]),e("b",[t._v(t._s(t.orderData.lockTime))]),e("i",[t._v(" "+t._s(t.$t("label.day")))])]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("span",[t._v(t._s(t.$t("label.return"))+"：")]),e("b",[t._v(" "+t._s(t.getInterest(t.orderData.orderAmount,t.orderData.interestRate,t.orderData.lockTime)))]),e("i",[t._v(" "+t._s(t.$t("label.coin_amount")))])])]),t._v(" "),e("div",[e("span",[t._v(t._s(t.$t("label.re_address"))+"：")]),t._v(" "),e("b",{staticClass:"bitcv-b"},[t._v(t._s(t.orderData.toAddr))])]),t._v(" "),e("div",[e("span",[t._v(t._s(t.$t("label.your_address"))+"：")]),t._v(" "),e("b",{staticClass:"bitcv-b"},[t._v(t._s(t.orderData.fromAddr))])])]),t._v(" "),e("div",{staticClass:"col-md-3",staticStyle:{"text-align":"center","padding-top":"30px"}},[e("vue-qr",{staticClass:"qrcode",attrs:{text:t.qrTxt,height:"160",width:"160",margin:10}})],1)])]),t._v(" "),e("div",{staticClass:"content"},[t.isFinish?e("div",{staticClass:"details-list"},[e("p",{staticClass:"details-tip"},[e("span",{staticClass:"update-btn",on:{click:t.fetch}},[t._v(t._s(t.$t("label.refresh_data")))]),t._v("\n        "+t._s(t.$t("label.sys_notice"))+"\n      ")]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",{staticClass:"text-dark"},[e("th",[t._v(t._s(t.$t("label.jiaoyi")))]),t._v(" "),e("th",[t._v(t._s(t.$t("label.r_time")))]),t._v(" "),e("th",[t._v(t._s(t.$t("label.hash")))]),t._v(" "),e("th",[t._v(t._s(t.$t("label.operation")))])])]),t._v(" "),t.list.length?e("tbody",t._l(t.list,function(i){return e("tr",{key:i.id},[e("td",[t._v(t._s(i.txAmount))]),t._v(" "),e("td",[t._v(t._s(i.txTime))]),t._v(" "),e("td",[e("a",{attrs:{href:"https://etherscan.io/tx/"+i.txHash,target:"_blank"}},[t._v(t._s(t.getShortStr(i.txHash,12)))])]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:i.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.checked)?t._i(i.checked,null)>-1:i.checked},on:{change:[function(e){var a=i.checked,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(i.checked=a.concat([null])):n>-1&&(i.checked=a.slice(0,n).concat(a.slice(n+1)))}else t.$set(i,"checked",r)},t.handleChange]}})])])})):e("div",{staticClass:"nodata"},[t._v("\n              "+t._s(t.$t("label.no_t"))),e("span",{staticClass:"update-btn",on:{click:t.fetchList}},[t._v(" "+t._s(t.$t("label.refresh_data")))]),t._v(" "+t._s(t.$t("label.retry"))+"！\n          ")])])]),t._v(" "),e("div",{staticClass:"buying-details-form-submit"},[t.list.length?e("button",{staticClass:"btn btn-warning",attrs:{disabled:t.isChecked},on:{click:t.handleFinish}},[t._v(t._s(t.$t("label.co_co")))]):t._e()])]):e("div",{staticClass:"buying-details-form"},[e("div",{staticClass:"form-group",class:t.confirmError},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirm,expression:"form.confirm"}],attrs:{type:"checkbox",id:"confirm"},domProps:{checked:Array.isArray(t.form.confirm)?t._i(t.form.confirm,null)>-1:t.form.confirm},on:{change:function(i){var e=t.form.confirm,a=i.target,s=!!a.checked;if(Array.isArray(e)){var r=t._i(e,null);a.checked?r<0&&(t.form.confirm=e.concat([null])):r>-1&&(t.form.confirm=e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.form,"confirm",s)}}}),t._v(" "),e("label",{attrs:{for:"confirm"}},[t._v(t._s(t.$t("label.my_goal"))+" "+t._s(t.orderData.orderAmount)+" "+t._s(t.$t("label.coin_amount")))]),e("br"),t._v(" "),t.confirmError?e("span",[t._v(t._s(t.$t("label.confirm_recharge")))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-10 buying-details-form-submit"},[e("button",{staticClass:"btn btn-warning",on:{click:t.handleSubmit}},[t._v(t._s(t.$t("label.start_co")))])])])])])},staticRenderFns:[]};var c=e("VU/8")(n,o,!1,function(t){e("y4v2")},null,null);i.default=c.exports},y4v2:function(t,i){}});
//# sourceMappingURL=23.6acc26145a4cf7e59d38.js.map