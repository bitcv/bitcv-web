webpackJsonp([10],{I37D:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={components:{Pagination:s("+ryu").default},data:function(){return{total:85,currentPage:1,perpage:10,pageno:1,dataCount:0,dataList:[],protocolDict:{},statusDict:{}}},mounted:function(){this.updateData()},computed:{totalAssetArr:function(){var t=0;return this.dataList.forEach(function(a){t+=a.amount*a.price}),t.toString().split(".")}},methods:{updateData:function(){var t=this;this.$http.post("/api/getUserAsset",{perpage:10,pageno:1}).then(function(a){0===a.data.errcode&&(t.dataCount=a.data.data.dataCount,t.dataList=a.data.data.dataList,t.protocolDict=a.data.data.protocolDict,t.statusDict=a.data.data.statusDict)})},onPageClick:function(t){this.pageno=t},toWithdraw:function(t){var a=this;t.walletAddr?this.$http.post("/api/withdraw",{assetId:t.id}).then(function(t){0===t.data.errcode?(alert("提交成功"),a.updateData()):alert(t.data.errmsg)}):this.$router.push("/wallet/withdraw/"+t.id)}}},i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container"},[s("div",{staticClass:"panel panel-custom"},[s("div",{staticClass:"panel-body"},[s("div",{staticClass:"col-xs-6 text-center"},[s("div",{staticClass:"text-darker"},[s("span",[t._v("总资产 (CNY) ≈ ")]),t._v(" "),s("span",{staticClass:"text-primary",staticStyle:{"font-size":"48px"}},[t._v(t._s(t.totalAssetArr[0]))]),t._v(" "),s("span",{staticClass:"text-primary"},[t._v("."+t._s(t.totalAssetArr[1]))])])]),t._v(" "),s("div",{staticClass:"col-xs-6 text-right",staticStyle:{"padding-top":"30px"}},[s("router-link",{staticClass:"text-primary",attrs:{to:"/wallet/records"}},[t._v("查看交易记录")])],1)])]),t._v(" "),s("table",{staticClass:"table text-darker table-hover small",staticStyle:{background:"#fff"}},[t._m(0),t._v(" "),s("tbody",t._l(t.dataList,function(a){return s("tr",{key:a.id},[s("td",[s("img",{staticClass:"img-circle",staticStyle:{"max-width":"40px","max-height":"40px"},attrs:{src:a.logoUrl}}),t._v("  "+t._s(a.symbol))]),t._v(" "),s("td",[t._v(t._s(a.price))]),t._v(" "),s("td",[t._v(t._s(a.amount)+" ≈ "),s("span",{staticClass:"text-dark small"},[t._v(t._s(parseInt(a.amount*a.price*1e4)/1e4))])]),t._v(" "),"ERC20"===t.protocolDict[a.protocol]?s("td",[t._v(t._s(t.statusDict[a.status]))]):s("td",[t._v("稍后提取")]),t._v(" "),"可提取"===t.statusDict[a.status]?s("td",[s("button",{staticClass:"btn btn-text btn-sm",on:{click:function(s){t.toWithdraw(a)}}},[t._v("立即提取")])]):s("td",[t._v("-")])])}))]),t._v(" "),s("div",{staticClass:"text-right"},[s("pagination",{attrs:{total:t.dataCount,"current-page":t.pageno},on:{onPageClick:t.onPageClick}})],1)])},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",{staticClass:"shadow-thead"},[s("tr",[s("th",[t._v("币种")]),t._v(" "),s("th",[t._v("参考价")]),t._v(" "),s("th",[t._v("数量")]),t._v(" "),s("th",[t._v("状态")]),t._v(" "),s("th",{staticStyle:{width:"120px"}},[t._v("操作")])])])}]};var r=s("VU/8")(e,i,!1,function(t){s("x1o/")},"data-v-d46f0348",null);a.default=r.exports},"x1o/":function(t,a){}});
//# sourceMappingURL=10.b990f5699b122d140895.js.map