webpackJsonp([11],{kZXB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("xipm"),r={data:function(){return{form:{address:"",type:0},rules:{address:[{validator:function(t,e,a){void 0!==e&&""!==e||a(new Error("必填")),e.startsWith("0x")&&42===e.length||a(new Error("请输入正确的合约地址")),a()}}],type:[{validator:function(t,e,a){void 0!==e&&""!==e||a(new Error("必填")),a()}}]},isUpload:!1,list:[],dataCount:0,uniqueCount:0,wrongCount:0,totalAmount:0}},methods:{handleBefore:function(t){console.log("before")},handleSuccess:function(t){console.log(t),0===t.errcode&&(this.isUpload=!0,this.list=t.data.dataList,this.dataCount=t.data.dataCount,this.totalAmount=t.data.totalAmount,this.wrongCount=t.data.wrongCount)},handleError:function(t){this.$message.error("上传失败，请重试")},submit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.isUpload=!0})},fetch:function(){console.log("获取")},confirm:function(){this.$emit("finished",!0),o.a.$emit("handleEmit",this.form)}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"step1"},[t.isUpload?a("div",[a("h4",[t._v("上传成功")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,height:"400"}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",width:"400",label:"地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}})],1),t._v(" "),a("footer",{staticClass:"footer"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("h5",[t._v("总数量")]),t._v(" "),a("div",[t._v("\n            "+t._s(t.totalAmount)+"\n            "),a("small",[t._v("枚")])])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("h5",[t._v("总地址")]),t._v(" "),a("div",[t._v("\n            "+t._s(t.dataCount)+"\n            "),a("small",[t._v("条")])])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("h5",[t._v("错误数据")]),t._v(" "),a("div",[t._v("\n            "+t._s(t.wrongCount)+"\n            "),a("small",[t._v("条")])])]),t._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:9}},[a("el-button",{staticClass:"btn-primary",attrs:{type:"warning"},on:{click:t.confirm}},[t._v("确定")]),t._v(" "),a("el-upload",{staticClass:"upload-btn",attrs:{name:"addr",action:"/api/parseAddrFile","before-upload":t.handleBefore,"on-success":t.handleSuccess,"on-error":t.handleError,"show-file-list":!1}},[a("el-button",{staticClass:"text-primary",attrs:{type:"text"}},[t._v("重新上传")])],1)],1)],1)],1)],1):a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"",prop:"type"}},[a("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:0}},[t._v("正式发放")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("测试发放"),a("small",{staticStyle:{color:"#ccc"}},[t._v("（测试时仅向前两个地址发放代币）")])])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"智能合约地址",prop:"address"}},[a("el-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上传发放地址"}},[a("el-upload",{staticClass:"upload-btn",attrs:{name:"addr",action:"/api/parseAddrFile","before-upload":t.handleBefore,"on-success":t.handleSuccess,"on-error":t.handleError,"show-file-list":!1}},[a("el-button",{staticClass:"btn-primary",attrs:{slot:"trigger",type:"warning"},slot:"trigger"},[t._v("点击上传")])],1),t._v(" "),a("el-button",{attrs:{type:"warning",plain:""},on:{click:t.fetch}},[t._v("获取模板")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,s,!1,function(t){a("uv8V")},null,null);e.default=l.exports},uv8V:function(t,e){}});
//# sourceMappingURL=11.3e0040edc15b4a1d3a42.js.map