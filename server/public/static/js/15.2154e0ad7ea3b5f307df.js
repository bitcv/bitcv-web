webpackJsonp([15],{"E+Fy":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{mobile:"",passwd:"",vcode:"",checked:!0,timerId:"",disableSms:!1,countDown:60,selected:"65"}},methods:{signup:function(){var e=this,t=new RegExp(/^0?(13|14|15|17|18)[0-9]{9}$/);return this.selected?t.test(this.mobile)?this.passwd.length<6?alert("密码长度至少需要6位"):this.vcode?void this.$http.post("/api/signup",{mobile:this.mobile,passwd:this.passwd,vcode:this.vcode,nation:this.selected}).then(function(t){var s=t.data;0===s.errcode?e.$router.push("/signin"):alert(s.errmsg)}).catch(function(e){console.log(e)}):alert("验证码不能为空"):alert("请填写正确手机号"):alert("请选择手机国家号")},getVcode:function(){var e=this;if(!new RegExp(/^0?(13|14|15|16|17|18)[0-9]{9}$/).test(this.mobile))return alert("请填写正确手机号");this.disableSms=!0,this.timerId=setInterval(function(){e.countDown<=1?(clearInterval(e.timerId),e.disableSms=!1,e.timerId="",e.countDown=60):e.countDown--},1e3),this.$http.post("/api/getVcode",{mobile:this.mobile}).then(function(e){var t=e.data;0===t.errcode||alert(t.errmsg)}).catch(function(e){console.log(e)})},change:function(){this.checked=!this.checked}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container signup-container"},[s("div",{staticClass:"signup"},[s("h3",{staticClass:"panel-title center-title"},[e._v("欢迎注册 BCV")]),e._v(" "),s("form",[[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("el-select",{staticClass:"phone-suffix",attrs:{placeholder:"请选择"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[s("el-option",{attrs:{value:"65"}},[e._v("新加坡 (+65)")]),e._v(" "),s("el-option",{attrs:{value:"1"}},[e._v("美国 (+1)")]),e._v(" "),s("el-option",{attrs:{value:"61"}},[e._v("澳大利亚 (+61)")]),e._v(" "),s("el-option",{attrs:{value:"81"}},[e._v("日本 (+81)")]),e._v(" "),s("el-option",{attrs:{value:"82"}},[e._v("韩国 (+82)")]),e._v(" "),s("el-option",{attrs:{value:"86"}},[e._v("中国 (+86)")]),e._v(" "),s("el-option",{attrs:{value:"852"}},[e._v("香港  (SAR) (+852)")]),e._v(" "),s("el-option",{attrs:{value:"853"}},[e._v("澳门 (+853)")]),e._v(" "),s("el-option",{attrs:{value:"856"}},[e._v("老挝 (+856)")])],1)],1),e._v(" "),s("div",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],staticClass:"phone",attrs:{type:"text",placeholder:"手机号"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})])])],e._v(" "),s("div",{staticClass:"smspanel"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vcode,expression:"vcode"}],staticClass:"sms-input",attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.vcode},on:{input:function(t){t.target.composing||(e.vcode=t.target.value)}}}),e._v(" "),s("el-button",{staticClass:"sms-btn",class:{disabled:e.disableSms},attrs:{disabled:e.disableSms,type:"primary"},on:{click:e.getVcode}},[e._v("发送验证码"),s("span",{directives:[{name:"show",rawName:"v-show",value:e.timerId,expression:"timerId"}]},[e._v(" ("+e._s(e.countDown)+"s)")])])],1),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwd,expression:"passwd"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.passwd},on:{input:function(t){t.target.composing||(e.passwd=t.target.value)}}}),e._v(" "),s("button",{staticClass:"signup-btn",on:{click:function(t){t.preventDefault(),e.signup(t)}}},[e._v("注册")])],2)])])},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(e){s("txg1")},null,null);t.default=o.exports},txg1:function(e,t){}});
//# sourceMappingURL=15.2154e0ad7ea3b5f307df.js.map