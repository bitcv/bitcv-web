webpackJsonp([10],{LItE:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={data:function(){return{orderList:[],inputStatus:null}},beforeCreate:function(){localStorage.getItem("userId")||(alert("请登录"),this.$router.push("/candyRoom/candyList"))},mounted:function(){this.updateData()},watch:{inputStatus:function(){this.updateData()}},methods:{confirmOrder:function(t){this.$router.push("/candyRoom/candyOrderConfirm/"+t)},updateData:function(){var t=this,s={pageno:1,perpage:10};null!==this.inputStatus&&(s.status=this.inputStatus+""),console.log(s),this.$http.post("/api/getUserOrderList",s).then(function(s){0===s.data.errcode&&(t.orderList=s.data.data.dataList)})},cancelOrder:function(t){var s=this;this.$http.post("/api/cancelDepositOrder",{depositOrderId:t}).then(function(t){0===t.data.errcode?s.updateData():alert(t.data.errmsg)})}}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"my-candy-order"},[a("div",{staticClass:"main-area"},[a("div",{staticClass:"title-box",class:t.mediaClass()},[a("span",{staticClass:"title"},[t._v("我的余币宝清单")])]),t._v(" "),a("div",{staticClass:"filter-box"},[a("span",{staticClass:"title",class:t.mediaClass()},[t._v("订单状态")]),t._v(" "),a("ul",{staticClass:"select",class:t.mediaClass()},[a("li",{class:{cur:null===t.inputStatus},on:{click:function(s){t.inputStatus=null}}},[t._v("全部")]),t._v(" "),a("li",{class:{cur:1===t.inputStatus},on:{click:function(s){t.inputStatus=1}}},[t._v("已完成")]),t._v(" "),a("li",{class:{cur:0===t.inputStatus},on:{click:function(s){t.inputStatus=0}}},[t._v("待充值")])])]),t._v(" "),a("div",{staticClass:"table-box"},["media-mobile"===t.mediaClass()?a("el-table",{attrs:{data:t.orderList}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("el-form",{attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"项目名称"}},[t._v(t._s(s.row.nameCn))]),t._v(" "),a("el-form-item",{attrs:{label:"符号"}},[t._v(t._s(s.row.tokenSymbol))]),t._v(" "),a("el-form-item",{attrs:{label:"购买数量"}},[t._v(t._s(s.row.orderAmount))]),t._v(" "),a("el-form-item",{attrs:{label:"锁仓期"}},[t._v(t._s(s.row.lockTime)+"个月")]),t._v(" "),a("el-form-item",{attrs:{label:"总回报"}},[t._v(t._s(s.row.interestRate*s.row.orderAmount*s.row.lockTime/12)+"枚")]),t._v(" "),a("el-form-item",{attrs:{label:"交易哈希"}},[t._v(t._s(s.row.txHash))]),t._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[t._v(t._s(t.convertDate(s.row.orderTime)))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"项目符号",prop:"tokenSymbol"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("img",{staticClass:"small-image",attrs:{src:s.row.logoUrl,alt:""}}),t._v(" "),a("span",[t._v(t._s(s.row.tokenSymbol))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单金额",prop:"orderAmount"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"orderAmount"},scopedSlots:t._u([{key:"default",fn:function(s){return[0===s.row.status?a("div",[a("el-button",{staticStyle:{margin:"0 0 10px",display:"inline"},attrs:{size:"mini",type:"primary"},on:{click:function(a){t.confirmOrder(s.row.id)}}},[t._v("确认")]),t._v(" "),a("el-button",{staticStyle:{margin:"0"},attrs:{size:"mini",type:"danger"},on:{click:function(a){t.cancelOrder(s.row.id)}}},[t._v("删除")])],1):1===s.row.status?a("div",{staticClass:"btn-box"},[a("span",{staticClass:"text"},[t._v("订单完成")])]):2===s.row.status?a("div",{staticClass:"btn-box"},[a("span",{staticClass:"text"},[t._v("已取消")])]):t._e()]}}])})],1):a("table",[a("tr",{staticClass:"table-header"},[a("th",{attrs:{colspan:"2"}},[t._v("项目")]),t._v(" "),a("th",{staticClass:"mobile-hide"},[t._v("下单时间")]),t._v(" "),a("th",[t._v("充值数量")]),t._v(" "),a("th",{staticClass:"mobile-hide"},[t._v("锁仓期")]),t._v(" "),a("th",{staticClass:"mobile-hide"},[t._v("总回报")]),t._v(" "),a("th",[t._v("操作")]),t._v(" "),a("th",{staticClass:"mobile-hide"},[t._v("交易哈希")])]),t._v(" "),t._l(t.orderList,function(s){return[a("tr",{key:s.id,staticClass:"table-row"},[a("td",[a("img",{attrs:{src:s.logoUrl,alt:""}})]),t._v(" "),a("td",[a("div",{staticClass:"info-box"},[a("span",{staticClass:"title"},[t._v(t._s(s.nameCn))]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(s.tokenSymbol))])])]),t._v(" "),a("td",{staticClass:"mobile-hide"},[t._v(t._s(t.convertDate(s.orderTime)))]),t._v(" "),a("td",[t._v(t._s(s.orderAmount)+"枚")]),t._v(" "),a("td",{staticClass:"mobile-hide"},[t._v(t._s(s.lockTime)+"个月")]),t._v(" "),a("td",{staticClass:"mobile-hide"},[t._v(t._s(s.interestRate*s.orderAmount*s.lockTime/12)+"枚")]),t._v(" "),a("td",[0===s.status?a("div",{staticClass:"btn-box"},[a("span",{on:{click:function(a){t.confirmOrder(s.id)}}},[t._v("确认订单")]),t._v(" "),a("span",{on:{click:function(a){t.cancelOrder(s.id)}}},[t._v("取消订单")])]):1===s.status?a("div",{staticClass:"btn-box"},[a("span",{staticClass:"text"},[t._v("订单完成")])]):2===s.status?a("div",{staticClass:"btn-box"},[a("span",{staticClass:"text"},[t._v("已取消")])]):t._e()]),t._v(" "),a("td",{staticClass:"mobile-hide"},[s.txHashList.length?t._l(s.txHashList,function(s,e){return a("a",{key:e,attrs:{href:"https://etherscan.io/tx/"+s,target:"_blank"}},[t._v(t._s(t.getShortStr(s,10)))])}):a("span",[t._v("暂无交易")])],2)])]})],2)],1)])])},staticRenderFns:[]};var l=a("VU/8")(e,i,!1,function(t){a("iJ1a")},"data-v-bfcbe9ee",null);s.default=l.exports},iJ1a:function(t,s){}});
//# sourceMappingURL=10.3287baa3c9f484c12835.js.map