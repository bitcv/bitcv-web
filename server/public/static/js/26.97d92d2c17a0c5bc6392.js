webpackJsonp([26],{iuXs:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("Dd8w"),e=a.n(i),n=a("NYxO"),l=a("/6x9"),c=a("oAV5"),o={components:{Pagination:l.a},data:function(){return{loading:!1,lockTime:{value:-1,items:[{label:"全部",value:-1},{label:"已充值",value:0},{label:"未充值",value:1}]},total:0,currentPage:1,list:[],bitcv:{}}},computed:{params:function(){return{pageno:this.currentPage,perpage:10,status:this.lockTime.value}}},created:function(){this.fetch()},methods:e()({},Object(n.b)(["getUserOrderList","cancelDepositOrder"]),{maskStr:function(t,s){return Object(c.d)(t,s)},fetch:function(){var t=this;3===this.params.status&&delete this.params.status,this.loading=!0,this.getUserOrderList(this.params).then(function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=s.dataCount,i=void 0===a?0:a,e=s.dataList,n=void 0===e?[]:e;t.total=i,t.list=n,t.list.map(function(s){t.$set(s,"isDetail",!1)}),t.loading=!1}).catch(function(){t.loading=!1})},handleConfirm:function(t){this.bitcv.orderId=t,this.$router.push({path:"/candyRoom/candyDetails",query:this.bitcv})},handleCancel:function(t){var s=this;this.loading=!0,this.cancelDepositOrder({depositOrderId:t}).then(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.loading=!1,s.fetch()}).catch(function(){s.loading=!1})},onFilterClick:function(t){this.lockTime.value=t,this.currentPage=1,this.fetch()},handleShow:function(t){this.list.map(function(s,a){a!==t&&(s.isDetail=!1)}),this.list[t].isDetail=!this.list[t].isDetail},handleHidden:function(t){this.list[t].isDetail=!1},onPageClick:function(t){this.currentPage=t,this.fetch()}})},r={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"my-data"},[a("div",{staticClass:"panel panel-custom"},[a("div",{staticClass:"panel-body filter-list"},[t._m(0),t._v(" "),a("dl",{staticClass:"dl-horizontal"},[a("dt",[t._v("订单状态")]),t._v(" "),a("dd",t._l(t.lockTime.items,function(s){return a("a",{key:s.value,class:{active:t.lockTime.value==s.value},attrs:{href:"javascript:;"},on:{click:function(a){t.onFilterClick(s.value)}}},[t._v(t._s(s.label))])}))])])]),t._v(" "),a("div",{staticClass:"panel panel-custom"},[t.list.length?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover hidden-xs"},[t._m(1),t._v(" "),a("tbody",t._l(t.list,function(s){return a("tr",{key:s.id},[a("td",[a("img",{staticClass:"small-image",attrs:{src:s.logoUrl,alt:"图片",height:"30"}}),t._v(" "),a("span",[t._v(t._s(s.nameCn)),a("span",{staticClass:"text-gray small"},[t._v(t._s(s.tokenSymbol))])])]),t._v(" "),a("td",[t._v(t._s(t.convertDate(s.orderTime)))]),t._v(" "),a("td",[t._v(t._s(s.orderAmount))]),t._v(" "),a("td",[t._v(t._s(s.lockTime)+"个月")]),t._v(" "),a("td",[t._v(t._s(s.interestRate*s.orderAmount*s.lockTime/12)+"枚")]),t._v(" "),a("td",[0===s.status?a("span",{staticClass:"btn-box"},[a("button",{staticClass:"btn btn-warning",on:{click:function(a){t.handleConfirm(s.id)}}},[t._v("确认订单")]),a("br"),t._v(" "),a("button",{staticClass:"btn btn-default",staticStyle:{"margin-top":"10px"},on:{click:function(a){t.handleCancel(s.id)}}},[t._v("取消订单")])]):a("span",{class:{"text-muted":2===s.status}},[t._v("\n                "+t._s(["","订单完成","已取消"][s.status])+"\n              ")])]),t._v(" "),a("td",[s.txHashList&&s.txHashList.length?a("div",t._l(s.txHashList,function(s,i){return a("p",{key:i},[a("a",{attrs:{href:"https://etherscan.io/tx/"+s,target:"_blank"}},[t._v(t._s(t.maskStr(s,5)))])])})):a("p",[t._v("-")])])])}))]),t._v(" "),a("div",{staticClass:"visible-xs xs-box"},[t._m(2),t._v(" "),a("div",{staticClass:"xs-body"},t._l(t.list,function(s,i){return a("div",{key:s.id,staticClass:"xs-item"},[a("div",{staticClass:"xs-row",on:{click:function(s){t.handleShow(i)}}},[a("span",{style:{lineHeight:0===s.status?"80px":"50px"}},[a("img",{staticClass:"img-rounded",attrs:{src:s.logoUrl,height:"30"}}),t._v(" "),a("b",[t._v(t._s(s.nameCn)),a("i",{staticClass:"text-gray small"},[t._v(t._s(s.tokenSymbol))])])]),t._v(" "),a("span",{style:{lineHeight:0===s.status?"80px":"50px"}},[t._v(t._s(s.orderAmount)+"枚")]),t._v(" "),a("span",{style:{lineHeight:0===s.status?"33px":"50px",padding:0===s.status?"5px 0":"0"}},[0===s.status?a("em",{staticClass:"btn-box"},[a("button",{staticClass:"btn btn-warning",on:{click:function(a){t.handleConfirm(s.id)}}},[t._v("确认订单")]),t._v(" "),a("button",{staticClass:"btn btn-default",on:{click:function(a){t.handleCancel(s.id)}}},[t._v("取消订单")])]):a("em",{class:{"text-muted":2===s.status}},[t._v("\n                  "+t._s(["","订单完成","已取消"][s.status])+"\n                ")])])]),t._v(" "),s.isDetail?a("div",{staticClass:"xs-detail"},[a("p",[a("span",[t._v("下单时间：")]),t._v("\n                "+t._s(t.convertDate(s.orderTime))+"个月\n              ")]),t._v(" "),a("p",[a("span",[t._v("锁仓期：")]),t._v("\n                "+t._s(s.orderAmount)+"枚\n              ")]),t._v(" "),a("p",[a("span",[t._v("回报：")]),t._v("\n                "+t._s(t.getInterest(s.orderAmount,s.interestRate,s.lockTime))+"枚\n              ")]),t._v(" "),a("p",[a("span",[t._v("交易哈希：")]),t._v(" "),s.txHashList&&s.txHashList.length?a("i",t._l(s.txHashList,function(s,i){return a("em",{key:i},[t._v("\n                    "+t._s(t.maskStr(s,5))+"\n                  ")])})):a("i",[t._v("-")]),t._v(" "),a("b",{staticClass:"b-hidden",on:{click:function(s){t.handleHidden(i)}}},[t._v("收起")])])]):t._e()])}))])]):a("div",{staticClass:"nodat"},[t._v("暂无数据")])]),t._v(" "),a("div",{staticClass:"text-right"},[a("pagination",{attrs:{total:t.total,"current-page":t.currentPage},on:{onPageClick:t.onPageClick}})],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("h3",{staticStyle:{margin:"20px 0 30px"}},[this._v("我的余币宝订单")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("tr",{staticClass:"text-dark"},[a("th",[t._v("项目")]),t._v(" "),a("th",[t._v("下单时间")]),t._v(" "),a("th",[t._v("充值数量")]),t._v(" "),a("th",[t._v("锁仓期")]),t._v(" "),a("th",[t._v("回报")]),t._v(" "),a("th",[t._v("操作")]),t._v(" "),a("th",[t._v("交易哈希")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"xs-header text-gray"},[s("span",[this._v("项目")]),this._v(" "),s("span",[this._v("充值数量")]),this._v(" "),s("span",[this._v("操作")])])}]};var v=a("VU/8")(o,r,!1,function(t){a("l0y4")},"data-v-3cf90dbd",null);s.default=v.exports},l0y4:function(t,s){}});
//# sourceMappingURL=26.97d92d2c17a0c5bc6392.js.map