webpackJsonp([35],{iuXs:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Dd8w"),l=s.n(e),n=s("NYxO"),i=s("/6x9"),o=s("oAV5"),c={components:{Pagination:i.a},data:function(){return{loading:!1,lockTime:{value:-1,items:[{label:"全部",value:-1},{label:"已充值",value:0},{label:"未充值",value:1}],enitems:[{label:"All",value:-1},{label:"Completed",value:0},{label:"Not recharged",value:1}]},total:0,currentPage:1,list:[],bitcv:{}}},computed:{params:function(){return{pageno:this.currentPage,perpage:10,status:this.lockTime.value}},language:function(){return this.$i18n.locale}},created:function(){this.fetch()},methods:l()({},Object(n.b)(["getUserOrderList","cancelDepositOrder"]),{maskStr:function(t,a){return Object(o.d)(t,a)},fetch:function(){var t=this;3===this.params.status&&delete this.params.status,this.loading=!0,this.getUserOrderList(this.params).then(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a.dataCount,e=void 0===s?0:s,l=a.dataList,n=void 0===l?[]:l;t.total=e,t.list=n,t.list.map(function(a){t.$set(a,"isDetail",!1)}),t.loading=!1}).catch(function(){t.loading=!1})},handleConfirm:function(t){this.bitcv.orderId=t,this.$router.push({path:"/candyRoom/candyDetails",query:this.bitcv})},handleCancel:function(t){var a=this;this.loading=!0,this.cancelDepositOrder({depositOrderId:t}).then(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.loading=!1,a.fetch()}).catch(function(){a.loading=!1})},onFilterClick:function(t){this.lockTime.value=t,this.currentPage=1,this.fetch()},handleShow:function(t){this.list.map(function(a,s){s!==t&&(a.isDetail=!1)}),this.list[t].isDetail=!this.list[t].isDetail},handleHidden:function(t){this.list[t].isDetail=!1},onPageClick:function(t){this.currentPage=t,this.fetch()}})},r={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"my-data"},[s("div",{staticClass:"panel panel-custom"},[s("div",{staticClass:"panel-body filter-list"},[s("div",[s("h3",{staticStyle:{margin:"20px 0 30px"}},[t._v(t._s(t.$t("label.my_list")))])]),t._v(" "),s("dl",{staticClass:"dl-horizontal"},[s("dt",[t._v(t._s(t.$t("label.order_status")))]),t._v(" "),"cn"===t.language?s("dd",t._l(t.lockTime.items,function(a){return s("a",{key:a.value,class:{active:t.lockTime.value==a.value},attrs:{href:"javascript:;"},on:{click:function(s){t.onFilterClick(a.value)}}},[t._v(t._s(a.label))])})):s("dd",t._l(t.lockTime.enitems,function(a){return s("a",{key:a.value,class:{active:t.lockTime.value==a.value},attrs:{href:"javascript:;"},on:{click:function(s){t.onFilterClick(a.value)}}},[t._v(t._s(a.label))])}))])])]),t._v(" "),s("div",{staticClass:"panel panel-custom"},[t.list.length?s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-hover hidden-xs"},[s("thead",[s("tr",{staticClass:"text-dark"},[s("th",[t._v(t._s(t.$t("label.candy_project")))]),t._v(" "),s("th",[t._v(t._s(t.$t("label.order_time")))]),t._v(" "),s("th",[t._v(t._s(t.$t("label.buy_q")))]),t._v(" "),s("th",[t._v(t._s(t.$t("label.lock")))]),t._v(" "),s("th",[t._v(t._s(t.$t("label.return")))]),t._v(" "),s("th",[t._v(t._s(t.$t("label.operation")))]),t._v(" "),s("th",[t._v(t._s(t.$t("label.hash")))])])]),t._v(" "),s("tbody",t._l(t.list,function(a){return s("tr",{key:a.id},[s("td",["cn"===t.language?s("img",{staticClass:"small-image",attrs:{src:a.logoUrl,alt:"图片",height:"30"}}):s("img",{staticClass:"small-image",attrs:{src:a.logoUrl,alt:"Image",height:"30"}}),t._v(" "),s("span",[t._v(t._s(a.nameCn)),s("span",{staticClass:"text-gray small"},[t._v(t._s(a.tokenSymbol))])])]),t._v(" "),s("td",[t._v(t._s(t.convertDate(a.orderTime)))]),t._v(" "),s("td",[t._v(t._s(a.orderAmount))]),t._v(" "),s("td",[t._v(t._s(a.lockTime)+" "+t._s(t.$t("label.month")))]),t._v(" "),s("td",[t._v(t._s(a.interestRate*a.orderAmount*a.lockTime/12)+" "+t._s(t.$t("label.coin_amount")))]),t._v(" "),s("td",[0===a.status?s("span",{staticClass:"btn-box"},[s("button",{staticClass:"btn btn-warning",on:{click:function(s){t.handleConfirm(a.id)}}},[t._v(t._s(t.$t("label.confirm_o")))]),s("br"),t._v(" "),s("button",{staticClass:"btn btn-default",staticStyle:{"margin-top":"10px"},on:{click:function(s){t.handleCancel(a.id)}}},[t._v(t._s(t.$t("label.cancel_order")))])]):s("span",{class:{"text-muted":2===a.status}},["cn"===t.language?s("span",[t._v(t._s(["","订单完成","已取消"][a.status]))]):s("span",[t._v(t._s(["","Order completed","Cancelled"][a.status]))])])]),t._v(" "),s("td",[a.txHashList&&a.txHashList.length?s("div",t._l(a.txHashList,function(a,e){return s("p",{key:e},[s("a",{attrs:{href:"https://etherscan.io/tx/"+a,target:"_blank"}},[t._v(t._s(t.maskStr(a,5)))])])})):s("p",[t._v("-")])])])}))]),t._v(" "),s("div",{staticClass:"visible-xs xs-box"},[s("div",{staticClass:"xs-header text-gray"},[s("span",[t._v(t._s(t.$t("label.candy_project")))]),t._v(" "),s("span",[t._v(t._s(t.$t("label.in_amount")))]),t._v(" "),s("span",[t._v(t._s(t.$t("label.operation")))])]),t._v(" "),s("div",{staticClass:"xs-body"},t._l(t.list,function(a,e){return s("div",{key:a.id,staticClass:"xs-item"},[s("div",{staticClass:"xs-row",on:{click:function(a){t.handleShow(e)}}},[s("span",{style:{lineHeight:0===a.status?"80px":"50px"}},[s("img",{staticClass:"img-rounded",attrs:{src:a.logoUrl,height:"30"}}),t._v(" "),s("b",[t._v(t._s(a.nameCn)),s("i",{staticClass:"text-gray small"},[t._v(t._s(a.tokenSymbol))])])]),t._v(" "),s("span",{style:{lineHeight:0===a.status?"80px":"50px"}},[t._v(t._s(a.orderAmount)+" "+t._s(t.$t("label.coin_amount")))]),t._v(" "),s("span",{style:{lineHeight:0===a.status?"33px":"50px",padding:0===a.status?"5px 0":"0"}},[0===a.status?s("em",{staticClass:"btn-box"},[s("button",{staticClass:"btn btn-warning",on:{click:function(s){t.handleConfirm(a.id)}}},[t._v(t._s(t.$t("label.confirm_o")))]),t._v(" "),s("button",{staticClass:"btn btn-default",on:{click:function(s){t.handleCancel(a.id)}}},[t._v(t._s(t.$t("label.cancel_order")))])]):s("em",{class:{"text-muted":2===a.status}},["cn"===t.language?s("span",[t._v(t._s(["","订单完成","已取消"][a.status]))]):s("span",[t._v(t._s(["","Order completed","Cancelled"][a.status]))])])])]),t._v(" "),a.isDetail?s("div",{staticClass:"xs-detail"},[s("p",[s("span",[t._v(t._s(t.$t("label.order_time"))+"：")]),t._v("\n                "+t._s(t.convertDate(a.orderTime))+" "+t._s(t.$t("label.month"))+"\n              ")]),t._v(" "),s("p",[s("span",[t._v(t._s(t.$t("label.lock"))+"：")]),t._v("\n                "+t._s(a.orderAmount)+" "+t._s(t.$t("label.coin_amount"))+"\n              ")]),t._v(" "),s("p",[s("span",[t._v(t._s(t.$t("label.return"))+"：")]),t._v("\n                "+t._s(t.getInterest(a.orderAmount,a.interestRate,a.lockTime))+" "+t._s(t.$t("label.coin_amount"))+"\n              ")]),t._v(" "),s("p",[s("span",[t._v(t._s(t.$t("label.hash"))+"：")]),t._v(" "),a.txHashList&&a.txHashList.length?s("i",t._l(a.txHashList,function(a,e){return s("em",{key:e},[t._v("\n                    "+t._s(t.maskStr(a,5))+"\n                  ")])})):s("i",[t._v("-")]),t._v(" "),s("b",{staticClass:"b-hidden",on:{click:function(a){t.handleHidden(e)}}},[t._v(t._s(t.$t("label.shouqi")))])])]):t._e()])}))])]):s("div",{staticClass:"nodat"},[t._v(t._s(t.$t("label.no_data")))])]),t._v(" "),s("div",{staticClass:"text-right"},[s("pagination",{attrs:{total:t.total,"current-page":t.currentPage},on:{onPageClick:t.onPageClick}})],1)])},staticRenderFns:[]};var _=s("VU/8")(c,r,!1,function(t){s("zu2t")},"data-v-1d056d83",null);a.default=_.exports},zu2t:function(t,a){}});
//# sourceMappingURL=35.ad909000f19b21884a4d.js.map